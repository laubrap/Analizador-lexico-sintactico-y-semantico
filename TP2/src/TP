#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>
#include "structsTP2.h"

// Caracteres

nodo * agregarALista(nodo* lista, listaCadenas paraAgregar){

   nodo *sgte = lista;
   
   if(estaEnLista(lista,paraAgregar)){
     
    paraAgregar.contador += 1;

   }else{
         
        if(lista->sgte==NULL){
            lista->infoCadena . nombreIdentificador = (char*)malloc(strlen(paraAgregar . nombreIdentificador));
            strcpy(lista->infoCadena.nombreIdentificador, paraAgregar.nombreIdentificador);
            lista->sgte = NULL;
            paraAgregar.contador = 1;
        }
   
   lista->infoCadena = paraAgregar;
   lista->sgte = sgte;
   paraAgregar.contador = 1;

}
return lista;
}

bool estaEnLista(nodo* lista, listaCadenas aBuscar){

    while(lista->sgte != NULL){

        if(strcmp(lista->infoCadena.nombreIdentificador, aBuscar.nombreIdentificador) == 0) {

            lista = lista->sgte;
            return true;

        }

        return false;

    }
}

// Enteros

int obtenerValorDeOctal(int octal) {
    int decimal = 0, base = 1;

    while (octal > 0) {
        int digito = octal % 10;
        decimal += digito * base;
        base *= 8;
        octal /= 10;
    }

    return decimal;
}

int obtenerValorDeHexadecimal(char* hex) {
    int decimal = 0;
    int valor;

    hex[1] = '0';
    for (int i = 0; hex[i] != '\0'; i++) {
        char c = toupper(hex[i]);

        if (c >= '0' && c <= '9')
            valor = c - '0';
        else if (c >= 'A' && c <= 'F')
            valor = c - 'A' + 10;

        decimal = decimal * 16 + valor;
    }

    return decimal;
}